{"remainingRequest":"D:\\p\\vue-admin\\node_modules\\babel-loader\\lib\\index.js!D:\\p\\vue-admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\p\\vue-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\p\\vue-admin\\src\\layout\\components\\Sidebar\\TopMenu.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\p\\vue-admin\\src\\layout\\components\\Sidebar\\TopMenu.vue","mtime":1714716372539},{"path":"D:\\p\\vue-admin\\babel.config.js","mtime":1714716372320},{"path":"D:\\p\\vue-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1714717337779},{"path":"D:\\p\\vue-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1714717350786},{"path":"D:\\p\\vue-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1714717337779},{"path":"D:\\p\\vue-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1714717353807}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovcC92dWUtYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCgppbXBvcnQgc3RvcmUgZnJvbSAnQC9zdG9yZSc7CmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7CmltcG9ydCB7IGlzRXh0ZXJuYWwgfSBmcm9tICdAL3V0aWxzL3ZhbGlkYXRlJzsKaW1wb3J0IEl0ZW0gZnJvbSAnLi9JdGVtJzsKaW1wb3J0IF92YXJpYWJsZXMgZnJvbSAnQC9zdHlsZXMvdmFyaWFibGVzLnNjc3MnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgSXRlbTogSXRlbQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7fTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoWydwZXJtaXNzaW9uX3JvdXRlcycsICdzaWRlYmFyJ10pKSwge30sIHsKICAgIGFjdGl2ZU1lbnU6IGZ1bmN0aW9uIGFjdGl2ZU1lbnUoKSB7CiAgICAgIHZhciByb3V0ZSA9IHRoaXMuJHJvdXRlOwogICAgICB2YXIgbWV0YSA9IHJvdXRlLm1ldGEsCiAgICAgICAgbWF0Y2hlZCA9IHJvdXRlLm1hdGNoZWQ7CiAgICAgIGlmIChtZXRhLmFjdGl2ZU1lbnUpIHsKICAgICAgICByZXR1cm4gbWV0YS5hY3RpdmVNZW51OwogICAgICB9CiAgICAgIHN0b3JlLmRpc3BhdGNoKCdwZXJtaXNzaW9uL2NoYW5nZVNlY29uZFJvdXRlcycsIG1hdGNoZWRbMF0pOwogICAgICByZXR1cm4gbWF0Y2hlZFswXS5wYXRoIHx8ICcvJzsKICAgIH0sCiAgICBzaG93TG9nbzogZnVuY3Rpb24gc2hvd0xvZ28oKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5zZXR0aW5ncy5zaWRlYmFyTG9nbzsKICAgIH0sCiAgICB2YXJpYWJsZXM6IGZ1bmN0aW9uIHZhcmlhYmxlcygpIHsKICAgICAgcmV0dXJuIF92YXJpYWJsZXM7CiAgICB9LAogICAgaXNDb2xsYXBzZTogZnVuY3Rpb24gaXNDb2xsYXBzZSgpIHsKICAgICAgcmV0dXJuICF0aGlzLnNpZGViYXIub3BlbmVkOwogICAgfQogIH0pLAogIG1ldGhvZHM6IHsKICAgIGdldEZpcnN0U2hvd2luZ0NoaWxkOiBmdW5jdGlvbiBnZXRGaXJzdFNob3dpbmdDaGlsZCgpIHsKICAgICAgdmFyIGNoaWxkcmVuID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBbXTsKICAgICAgdmFyIHBhcmVudCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkOwogICAgICB2YXIgc2hvd2luZyA9IHRydWU7CiAgICAgIGlmIChwYXJlbnQuaGlkZGVuIHx8IHR5cGVvZiBwYXJlbnQucGF0aCA9PT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHBhcmVudC5yZWRpcmVjdCA9PT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICBzaG93aW5nID0gZmFsc2U7CiAgICAgIH0KICAgICAgaWYgKCFjaGlsZHJlbikgewogICAgICAgIHJldHVybiBzaG93aW5nOwogICAgICB9CiAgICAgIHZhciBzaG93aW5nQ2hpbGRyZW4gPSBjaGlsZHJlbi5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuICFpdGVtLmhpZGRlbiAmJiBpdGVtLnBhdGg7CiAgICAgIH0pOwogICAgICBpZiAodHlwZW9mIHNob3dpbmdDaGlsZHJlbiAhPT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICBpZiAoc2hvd2luZ0NoaWxkcmVuLnBhdGggJiYgcGFyZW50LmFsd2F5c1Nob3cgJiYgIXBhcmVudC5yZWRpcmVjdCkgewogICAgICAgICAgcGFyZW50LnJlZGlyZWN0ID0gc2hvd2luZ0NoaWxkcmVuLnBhdGg7CiAgICAgICAgfQogICAgICAgIGlmICh0eXBlb2YgcGFyZW50Lm1ldGEgPT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBzaG93aW5nQ2hpbGRyZW4ubWV0YSAhPT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAgIHBhcmVudC5tZXRhID0gc2hvd2luZ0NoaWxkcmVuLm1ldGE7CiAgICAgICAgfQogICAgICAgIHNob3dpbmcgPSB0cnVlOwogICAgICB9CiAgICAgIHJldHVybiBzaG93aW5nOwogICAgfSwKICAgIHJlc29sdmVQYXRoOiBmdW5jdGlvbiByZXNvbHZlUGF0aChyb3V0ZSkgewogICAgICBpZiAoaXNFeHRlcm5hbChyb3V0ZS5wYXRoKSkgewogICAgICAgIHJldHVybiByb3V0ZS5wYXRoOwogICAgICB9CiAgICAgIGlmIChpc0V4dGVybmFsKHJvdXRlLnJlZGlyZWN0KSkgewogICAgICAgIHJldHVybiByb3V0ZS5yZWRpcmVjdDsKICAgICAgfQogICAgICByZXR1cm4gcm91dGUucGF0aDsKICAgIH0sCiAgICBqdW1wVG86IGZ1bmN0aW9uIGp1bXBUbyhyb3V0ZSkgewogICAgICBpZiAoaXNFeHRlcm5hbChyb3V0ZS5wYXRoKSkgewogICAgICAgIHdpbmRvdy5vcGVuKHJvdXRlLnBhdGgsICdfYmxhbmsnKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgaWYgKGlzRXh0ZXJuYWwocm91dGUucmVkaXJlY3QpKSB7CiAgICAgICAgd2luZG93Lm9wZW4ocm91dGUucmVkaXJlY3QsICdfYmxhbmsnKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhpcy4kcm91dGVyLnB1c2gocGF0aC5yZXNvbHZlKHJvdXRlLnBhdGgsIHJvdXRlLnJlZGlyZWN0IHx8ICcnKSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["store","mapGetters","path","isExternal","Item","variables","components","data","computed","_objectSpread","activeMenu","route","$route","meta","matched","dispatch","showLogo","$store","state","settings","sidebarLogo","isCollapse","sidebar","opened","methods","getFirstShowingChild","children","arguments","length","undefined","parent","showing","hidden","redirect","showingChildren","find","item","alwaysShow","resolvePath","jumpTo","window","open","$router","push","resolve"],"sources":["src/layout/components/Sidebar/TopMenu.vue"],"sourcesContent":["<template>\r\n  <div class=\"top-menu-bar\">\r\n    <el-scrollbar>\r\n      <el-menu\r\n        :default-active=\"activeMenu\"\r\n        :background-color=\"variables.menuBg\"\r\n        :text-color=\"variables.menuText\"\r\n        :active-text-color=\"variables.menuActiveText\"\r\n        mode=\"horizontal\"\r\n      >\r\n        <template v-for=\"route in permission_routes\">\r\n          <template v-if=\"!route.hidden && getFirstShowingChild(route.children,route)\">\r\n            <el-menu-item v-if=\"route.meta\" :key=\"route.path\" :index=\"resolvePath(route)\" @click=\"jumpTo(route)\">\r\n              <item :icon=\"route.meta&&route.meta.icon\" :title=\"route.meta.title\" />\r\n            </el-menu-item>\r\n          </template>\r\n        </template>\r\n      </el-menu>\r\n    </el-scrollbar>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport store from '@/store'\r\nimport { mapGetters } from 'vuex'\r\nimport path from 'path'\r\nimport { isExternal } from '@/utils/validate'\r\nimport Item from './Item'\r\nimport variables from '@/styles/variables.scss'\r\n\r\nexport default {\r\n  components: { Item },\r\n  data() {\r\n    return {}\r\n  },\r\n  computed: {\r\n    ...mapGetters([\r\n      'permission_routes',\r\n      'sidebar'\r\n    ]),\r\n    activeMenu() {\r\n      const route = this.$route\r\n      const { meta, matched } = route\r\n      if (meta.activeMenu) {\r\n        return meta.activeMenu\r\n      }\r\n      store.dispatch('permission/changeSecondRoutes', matched[0])\r\n      return matched[0].path || '/'\r\n    },\r\n    showLogo() {\r\n      return this.$store.state.settings.sidebarLogo\r\n    },\r\n    variables() {\r\n      return variables\r\n    },\r\n    isCollapse() {\r\n      return !this.sidebar.opened\r\n    }\r\n  },\r\n  methods: {\r\n    getFirstShowingChild(children = [], parent) {\r\n      let showing = true\r\n      if (parent.hidden || (typeof parent.path === 'undefined' && typeof parent.redirect === 'undefined')) {\r\n        showing = false\r\n      }\r\n      if (!children) {\r\n        return showing\r\n      }\r\n      const showingChildren = children.find(item => {\r\n        return !item.hidden && item.path\r\n      })\r\n      if (typeof showingChildren !== 'undefined') {\r\n        if (showingChildren.path && parent.alwaysShow && !parent.redirect) {\r\n          parent.redirect = showingChildren.path\r\n        }\r\n        if (typeof parent.meta === 'undefined' && typeof showingChildren.meta !== 'undefined') {\r\n          parent.meta = showingChildren.meta\r\n        }\r\n        showing = true\r\n      }\r\n      return showing\r\n    },\r\n    resolvePath(route) {\r\n      if (isExternal(route.path)) {\r\n        return route.path\r\n      }\r\n      if (isExternal(route.redirect)) {\r\n        return route.redirect\r\n      }\r\n      return route.path\r\n    },\r\n    jumpTo(route) {\r\n      if (isExternal(route.path)) {\r\n        window.open(route.path, '_blank')\r\n        return\r\n      }\r\n      if (isExternal(route.redirect)) {\r\n        window.open(route.redirect, '_blank')\r\n        return\r\n      }\r\n      this.$router.push(path.resolve(route.path, route.redirect || ''))\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.top-menu-bar {\r\n  .el-menu--horizontal.el-menu {\r\n    display: flex;\r\n  }\r\n  .el-menu--horizontal>.el-menu-item {\r\n    height: 50px !important;\r\n    line-height: 50px !important;\r\n  }\r\n  .el-menu--horizontal>.el-submenu .el-submenu__title {\r\n    height: 50px !important;\r\n    line-height: 50px !important;\r\n  }\r\n  .svg-icon {\r\n    margin-right: 5px;\r\n  }\r\n  .el-scrollbar__bar.is-horizontal {\r\n    display: none;\r\n  }\r\n  ::v-deep .el-scrollbar__thumb {\r\n    background-color: rgba(255, 255, 255, 0.5);\r\n    &:hover {\r\n      background-color: rgba(64,158,255,1);\r\n    }\r\n  }\r\n}\r\n.mobile {\r\n  .top-menu-bar {\r\n    ::v-deep .el-menu--horizontal>.el-menu-item {\r\n      padding: 0 10px;\r\n      display: inline-block;\r\n\r\n      .sub-el-icon {\r\n        display: none;\r\n      }\r\n\r\n      .svg-icon {\r\n        display: none;\r\n      }\r\n    }\r\n\r\n    ::v-deep .el-scrollbar__thumb {\r\n      display: none;\r\n      &:hover {\r\n        display: none;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAuBA,OAAAA,KAAA;AACA,SAAAC,UAAA;AACA,OAAAC,IAAA;AACA,SAAAC,UAAA;AACA,OAAAC,IAAA;AACA,OAAAC,UAAA;AAEA;EACAC,UAAA;IAAAF,IAAA,EAAAA;EAAA;EACAG,IAAA,WAAAA,KAAA;IACA;EACA;EACAC,QAAA,EAAAC,aAAA,CAAAA,aAAA,KACAR,UAAA,EACA,qBACA,UACA;IACAS,UAAA,WAAAA,WAAA;MACA,IAAAC,KAAA,QAAAC,MAAA;MACA,IAAAC,IAAA,GAAAF,KAAA,CAAAE,IAAA;QAAAC,OAAA,GAAAH,KAAA,CAAAG,OAAA;MACA,IAAAD,IAAA,CAAAH,UAAA;QACA,OAAAG,IAAA,CAAAH,UAAA;MACA;MACAV,KAAA,CAAAe,QAAA,kCAAAD,OAAA;MACA,OAAAA,OAAA,IAAAZ,IAAA;IACA;IACAc,QAAA,WAAAA,SAAA;MACA,YAAAC,MAAA,CAAAC,KAAA,CAAAC,QAAA,CAAAC,WAAA;IACA;IACAf,SAAA,WAAAA,UAAA;MACA,OAAAA,UAAA;IACA;IACAgB,UAAA,WAAAA,WAAA;MACA,aAAAC,OAAA,CAAAC,MAAA;IACA;EAAA,EACA;EACAC,OAAA;IACAC,oBAAA,WAAAA,qBAAA;MAAA,IAAAC,QAAA,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA;MAAA,IAAAG,MAAA,GAAAH,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAE,SAAA;MACA,IAAAE,OAAA;MACA,IAAAD,MAAA,CAAAE,MAAA,WAAAF,MAAA,CAAA5B,IAAA,2BAAA4B,MAAA,CAAAG,QAAA;QACAF,OAAA;MACA;MACA,KAAAL,QAAA;QACA,OAAAK,OAAA;MACA;MACA,IAAAG,eAAA,GAAAR,QAAA,CAAAS,IAAA,WAAAC,IAAA;QACA,QAAAA,IAAA,CAAAJ,MAAA,IAAAI,IAAA,CAAAlC,IAAA;MACA;MACA,WAAAgC,eAAA;QACA,IAAAA,eAAA,CAAAhC,IAAA,IAAA4B,MAAA,CAAAO,UAAA,KAAAP,MAAA,CAAAG,QAAA;UACAH,MAAA,CAAAG,QAAA,GAAAC,eAAA,CAAAhC,IAAA;QACA;QACA,WAAA4B,MAAA,CAAAjB,IAAA,2BAAAqB,eAAA,CAAArB,IAAA;UACAiB,MAAA,CAAAjB,IAAA,GAAAqB,eAAA,CAAArB,IAAA;QACA;QACAkB,OAAA;MACA;MACA,OAAAA,OAAA;IACA;IACAO,WAAA,WAAAA,YAAA3B,KAAA;MACA,IAAAR,UAAA,CAAAQ,KAAA,CAAAT,IAAA;QACA,OAAAS,KAAA,CAAAT,IAAA;MACA;MACA,IAAAC,UAAA,CAAAQ,KAAA,CAAAsB,QAAA;QACA,OAAAtB,KAAA,CAAAsB,QAAA;MACA;MACA,OAAAtB,KAAA,CAAAT,IAAA;IACA;IACAqC,MAAA,WAAAA,OAAA5B,KAAA;MACA,IAAAR,UAAA,CAAAQ,KAAA,CAAAT,IAAA;QACAsC,MAAA,CAAAC,IAAA,CAAA9B,KAAA,CAAAT,IAAA;QACA;MACA;MACA,IAAAC,UAAA,CAAAQ,KAAA,CAAAsB,QAAA;QACAO,MAAA,CAAAC,IAAA,CAAA9B,KAAA,CAAAsB,QAAA;QACA;MACA;MACA,KAAAS,OAAA,CAAAC,IAAA,CAAAzC,IAAA,CAAA0C,OAAA,CAAAjC,KAAA,CAAAT,IAAA,EAAAS,KAAA,CAAAsB,QAAA;IACA;EACA;AACA","ignoreList":[]}]}