{"remainingRequest":"D:\\p\\vue-admin\\node_modules\\babel-loader\\lib\\index.js!D:\\p\\vue-admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\p\\vue-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\p\\vue-admin\\src\\views\\menu\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\p\\vue-admin\\src\\views\\menu\\index.vue","mtime":1714716372633},{"path":"D:\\p\\vue-admin\\babel.config.js","mtime":1714716372320},{"path":"D:\\p\\vue-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1714717337779},{"path":"D:\\p\\vue-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1714717350786},{"path":"D:\\p\\vue-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1714717337779},{"path":"D:\\p\\vue-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1714717353807}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJEOi9wL3Z1ZS1hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwoKaW1wb3J0IHsgZ2V0TGlzdCB9IGZyb20gJ0AvYXBpL21lbnUnOwppbXBvcnQgeyBkZWVwQ2xvbmUgfSBmcm9tICdAL3V0aWxzJzsKdmFyIF90ZW1wID0gewogIGlkOiAnJywKICBwaWQ6ICcnLAogIHNvcnQ6IDAsCiAgdGl0bGU6ICcnLAogIG5hbWU6ICcnLAogIHN0YXR1czogMQp9OwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZpbHRlclRleHQ6ICcnLAogICAgICBsaXN0OiBbXSwKICAgICAgcGFyZW50czogW10sCiAgICAgIGRlZmF1bHRQcm9wczogewogICAgICAgIGNoaWxkcmVuOiAnY2hpbGRyZW4nLAogICAgICAgIGxhYmVsOiAndGl0bGUnCiAgICAgIH0sCiAgICAgIGxpc3RMb2FkaW5nOiB0cnVlLAogICAgICB0ZW1wOiBPYmplY3QuYXNzaWduKHt9LCBfdGVtcCksCiAgICAgIGRpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBkaWFsb2dUeXBlOiAnY3JlYXRlJywKICAgICAgbG9hZGluZzogZmFsc2UKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5mZXRjaERhdGEoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGZldGNoRGF0YTogZnVuY3Rpb24gZmV0Y2hEYXRhKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICB0aGlzLmxpc3RMb2FkaW5nID0gdHJ1ZTsKICAgICAgZ2V0TGlzdCgpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMubGlzdCA9IHJlc3BvbnNlLmRhdGEubGlzdDsKICAgICAgICBfdGhpcy5wYXJlbnRzID0gW3sKICAgICAgICAgIGlkOiAnJywKICAgICAgICAgIHRpdGxlOiAn5qC555uu5b2VJwogICAgICAgIH1dLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkocmVzcG9uc2UuZGF0YS5saXN0KSk7CiAgICAgICAgX3RoaXMubGlzdExvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgcmVzZXRUZW1wOiBmdW5jdGlvbiByZXNldFRlbXAoKSB7CiAgICAgIHRoaXMudGVtcCA9IE9iamVjdC5hc3NpZ24oe30sIF90ZW1wKTsKICAgIH0sCiAgICBhZGQ6IGZ1bmN0aW9uIGFkZCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIHRoaXMucmVzZXRUZW1wKCk7CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICAgIHRoaXMuZGlhbG9nVHlwZSA9ICdjcmVhdGUnOwogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMyLiRyZWZzWydkYXRhRm9ybSddLmNsZWFyVmFsaWRhdGUoKTsKICAgICAgfSk7CiAgICB9LAogICAgYXBwZW5kOiBmdW5jdGlvbiBhcHBlbmQoc2NvcGUpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIHRoaXMucmVzZXRUZW1wKCk7CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICAgIHRoaXMuZGlhbG9nVHlwZSA9ICdhcHBlbmQnOwogICAgICB2YXIgdGVtcCA9IGRlZXBDbG9uZShzY29wZS5yb3cpOwogICAgICB0aGlzLnRlbXAucGlkID0gdGVtcC5pZDsKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMy4kcmVmc1snZGF0YUZvcm0nXS5jbGVhclZhbGlkYXRlKCk7CiAgICAgIH0pOwogICAgfSwKICAgIGVkaXQ6IGZ1bmN0aW9uIGVkaXQoc2NvcGUpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CiAgICAgIHRoaXMucmVzZXRUZW1wKCk7CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICAgIHRoaXMuZGlhbG9nVHlwZSA9ICdtb2RpZnknOwogICAgICB0aGlzLnRlbXAgPSBkZWVwQ2xvbmUoc2NvcGUucm93KTsKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzNC4kcmVmc1snZGF0YUZvcm0nXS5jbGVhclZhbGlkYXRlKCk7CiAgICAgIH0pOwogICAgfSwKICAgIGRlbDogZnVuY3Rpb24gZGVsKHNjb3BlKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwogICAgICB0aGlzLiRjb25maXJtKCfnoa7orqTliKDpmaTor6XmnaHmlbDmja7lkJfvvJ8nLCAn5o+Q56S6JywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczUubGlzdC5zcGxpY2Uoc2NvcGUuJGluZGV4LCAxKTsKICAgICAgICAgIF90aGlzNS4kbWVzc2FnZSh7CiAgICAgICAgICAgIG1lc3NhZ2U6ICfliKDpmaTmiJDlip8nLAogICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgICAgIH0pOwogICAgICAgIH0sIDMwMCk7CiAgICAgIH0pOwogICAgfSwKICAgIHN1Ym1pdDogZnVuY3Rpb24gc3VibWl0KCkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKICAgICAgaWYgKHRoaXMubG9hZGluZykgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczYuJG1lc3NhZ2UoewogICAgICAgICAgbWVzc2FnZTogJ+aPkOS6pOaIkOWKnycsCiAgICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgICB9KTsKICAgICAgICBfdGhpczYuZGlhbG9nVmlzaWJsZSA9IGZhbHNlOwogICAgICAgIF90aGlzNi5sb2FkaW5nID0gZmFsc2U7CiAgICAgIH0sIDMwMCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["getList","deepClone","_temp","id","pid","sort","title","name","status","data","filterText","list","parents","defaultProps","children","label","listLoading","temp","Object","assign","dialogVisible","dialogType","loading","created","fetchData","methods","_this","then","response","concat","_toConsumableArray","resetTemp","add","_this2","$nextTick","$refs","clearValidate","append","scope","_this3","row","edit","_this4","del","_this5","$confirm","confirmButtonText","cancelButtonText","type","setTimeout","splice","$index","$message","message","submit","_this6"],"sources":["src/views/menu/index.vue"],"sourcesContent":["<template>\r\n  <div class=\"app-container\">\r\n    <div class=\"filter-container\">\r\n      <el-button\r\n        size=\"small\"\r\n        class=\"filter-item\"\r\n        type=\"primary\"\r\n        icon=\"el-icon-plus\"\r\n        @click=\"add\"\r\n      >\r\n        新增\r\n      </el-button>\r\n    </div>\r\n\r\n    <el-table\r\n      ref=\"tree\"\r\n      v-loading=\"listLoading\"\r\n      element-loading-text=\"Loading\"\r\n      border\r\n      fit\r\n      height=\"100%\"\r\n      class=\"table-container\"\r\n      highlight-current-row\r\n      :data=\"list\"\r\n      row-key=\"id\"\r\n      default-expand-all\r\n      :tree-props=\"{children: 'children', hasChildren: 'hasChildren'}\"\r\n    >\r\n      <el-table-column\r\n        fixed\r\n        label=\"ID\"\r\n        width=\"120\"\r\n      >\r\n        <template slot-scope=\"scope\">{{ scope.row.id }}</template>\r\n      </el-table-column>\r\n      <el-table-column\r\n        align=\"center\"\r\n        label=\"排序\"\r\n        width=\"80\"\r\n      >\r\n        <template slot-scope=\"scope\">{{ scope.row.sort }}</template>\r\n      </el-table-column>\r\n      <el-table-column\r\n        label=\"菜单名称\"\r\n      >\r\n        <template slot-scope=\"scope\">{{ scope.row.title }}</template>\r\n      </el-table-column>\r\n      <el-table-column\r\n        label=\"菜单标识\"\r\n      >\r\n        <template slot-scope=\"scope\">{{ scope.row.name }}</template>\r\n      </el-table-column>\r\n      <el-table-column\r\n        label=\"菜单路径\"\r\n      >\r\n        <template slot-scope=\"scope\">{{ scope.row.path }}</template>\r\n      </el-table-column>\r\n      <el-table-column\r\n        align=\"center\"\r\n        label=\"状态\"\r\n        width=\"100\"\r\n      >\r\n        <template slot-scope=\"scope\">\r\n          <el-switch :value=\"scope.row.status\" :active-value=\"1\" :inactive-value=\"0\" @change=\"handleUpdateStatus(scope)\" />\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n        fixed=\"right\"\r\n        align=\"center\"\r\n        label=\"操作\"\r\n        width=\"270\"\r\n      >\r\n        <template slot-scope=\"scope\">\r\n          <el-button-group>\r\n            <el-button\r\n              type=\"primary\"\r\n              icon=\"el-icon-plus\"\r\n              size=\"mini\"\r\n              @click=\"append(scope)\"\r\n            >\r\n              新增\r\n            </el-button>\r\n            <el-button\r\n              type=\"primary\"\r\n              icon=\"el-icon-edit\"\r\n              size=\"mini\"\r\n              @click=\"edit(scope)\"\r\n            >\r\n              修改\r\n            </el-button>\r\n            <el-button\r\n              type=\"danger\"\r\n              icon=\"el-icon-delete\"\r\n              size=\"mini\"\r\n              @click=\"del(scope)\"\r\n            >\r\n              删除\r\n            </el-button>\r\n          </el-button-group>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <el-dialog\r\n      :visible.sync=\"dialogVisible\"\r\n      :title=\"dialogType === 'modify' ? '修改' : '新增'\"\r\n    >\r\n      <el-form\r\n        ref=\"dataForm\"\r\n        :model=\"temp\"\r\n        label-width=\"120px\"\r\n        label-position=\"right\"\r\n      >\r\n        <el-form-item label=\"菜单排序\">\r\n          <el-input-number v-model=\"temp.sort\" :precision=\"0\" :min=\"0\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"所属上级\">\r\n          <el-cascader\r\n            v-model=\"temp.pid\"\r\n            :options=\"parents\"\r\n            :props=\"{ checkStrictly: true, emitPath: false, expandTrigger: 'hover', value: 'id', label: 'title' }\"\r\n            :show-all-levels=\"false\"\r\n            clearable\r\n          />\r\n        </el-form-item>\r\n        <el-form-item label=\"菜单名称\">\r\n          <el-input v-model=\"temp.title\" placeholder=\"请输入菜单名称\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"菜单标识\">\r\n          <el-input v-model=\"temp.name\" placeholder=\"请输入菜单标识\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"菜单图标\">\r\n          <el-input v-model=\"temp.icon\" placeholder=\"请输入菜单图标\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"菜单路径\">\r\n          <el-input v-model=\"temp.path\" placeholder=\"请输入菜单路径\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"菜单状态\">\r\n          <el-radio-group v-model=\"temp.status\">\r\n            <el-radio :label=\"0\">禁用</el-radio>\r\n            <el-radio :label=\"1\">正常</el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div class=\"text-right\">\r\n        <el-button type=\"danger\" @click=\"dialogVisible = false\">\r\n          取消\r\n        </el-button>\r\n        <el-button type=\"primary\" @click=\"submit\">\r\n          确定\r\n        </el-button>\r\n      </div>\r\n    </el-dialog>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getList } from '@/api/menu'\r\nimport { deepClone } from '@/utils'\r\n\r\nconst _temp = {\r\n  id: '',\r\n  pid: '',\r\n  sort: 0,\r\n  title: '',\r\n  name: '',\r\n  status: 1\r\n}\r\n\r\nexport default {\r\n\r\n  data() {\r\n    return {\r\n      filterText: '',\r\n      list: [],\r\n      parents: [],\r\n      defaultProps: {\r\n        children: 'children',\r\n        label: 'title'\r\n      },\r\n      listLoading: true,\r\n      temp: Object.assign({}, _temp),\r\n      dialogVisible: false,\r\n      dialogType: 'create',\r\n      loading: false\r\n    }\r\n  },\r\n  created() {\r\n    this.fetchData()\r\n  },\r\n  methods: {\r\n    fetchData() {\r\n      this.listLoading = true\r\n      getList().then(response => {\r\n        this.list = response.data.list\r\n        this.parents = [...[{\r\n          id: '',\r\n          title: '根目录'\r\n        }], ...response.data.list]\r\n        this.listLoading = false\r\n      })\r\n    },\r\n    resetTemp() {\r\n      this.temp = Object.assign({}, _temp)\r\n    },\r\n    add() {\r\n      this.resetTemp()\r\n      this.dialogVisible = true\r\n      this.dialogType = 'create'\r\n      this.$nextTick(() => {\r\n        this.$refs['dataForm'].clearValidate()\r\n      })\r\n    },\r\n    append(scope) {\r\n      this.resetTemp()\r\n      this.dialogVisible = true\r\n      this.dialogType = 'append'\r\n      const temp = deepClone(scope.row)\r\n      this.temp.pid = temp.id\r\n      this.$nextTick(() => {\r\n        this.$refs['dataForm'].clearValidate()\r\n      })\r\n    },\r\n    edit(scope) {\r\n      this.resetTemp()\r\n      this.dialogVisible = true\r\n      this.dialogType = 'modify'\r\n      this.temp = deepClone(scope.row)\r\n      this.$nextTick(() => {\r\n        this.$refs['dataForm'].clearValidate()\r\n      })\r\n    },\r\n    del(scope) {\r\n      this.$confirm('确认删除该条数据吗？', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        setTimeout(() => {\r\n          this.list.splice(scope.$index, 1)\r\n          this.$message({\r\n            message: '删除成功',\r\n            type: 'success'\r\n          })\r\n        }, 300)\r\n      })\r\n    },\r\n    submit() {\r\n      if (this.loading) {\r\n        return\r\n      }\r\n      this.loading = true\r\n      setTimeout(() => {\r\n        this.$message({\r\n          message: '提交成功',\r\n          type: 'success'\r\n        })\r\n        this.dialogVisible = false\r\n        this.loading = false\r\n      }, 300)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8JA,SAAAA,OAAA;AACA,SAAAC,SAAA;AAEA,IAAAC,KAAA;EACAC,EAAA;EACAC,GAAA;EACAC,IAAA;EACAC,KAAA;EACAC,IAAA;EACAC,MAAA;AACA;AAEA;EAEAC,IAAA,WAAAA,KAAA;IACA;MACAC,UAAA;MACAC,IAAA;MACAC,OAAA;MACAC,YAAA;QACAC,QAAA;QACAC,KAAA;MACA;MACAC,WAAA;MACAC,IAAA,EAAAC,MAAA,CAAAC,MAAA,KAAAjB,KAAA;MACAkB,aAAA;MACAC,UAAA;MACAC,OAAA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;IACA,KAAAC,SAAA;EACA;EACAC,OAAA;IACAD,SAAA,WAAAA,UAAA;MAAA,IAAAE,KAAA;MACA,KAAAV,WAAA;MACAhB,OAAA,GAAA2B,IAAA,WAAAC,QAAA;QACAF,KAAA,CAAAf,IAAA,GAAAiB,QAAA,CAAAnB,IAAA,CAAAE,IAAA;QACAe,KAAA,CAAAd,OAAA;UACAT,EAAA;UACAG,KAAA;QACA,GAAAuB,MAAA,CAAAC,kBAAA,CAAAF,QAAA,CAAAnB,IAAA,CAAAE,IAAA;QACAe,KAAA,CAAAV,WAAA;MACA;IACA;IACAe,SAAA,WAAAA,UAAA;MACA,KAAAd,IAAA,GAAAC,MAAA,CAAAC,MAAA,KAAAjB,KAAA;IACA;IACA8B,GAAA,WAAAA,IAAA;MAAA,IAAAC,MAAA;MACA,KAAAF,SAAA;MACA,KAAAX,aAAA;MACA,KAAAC,UAAA;MACA,KAAAa,SAAA;QACAD,MAAA,CAAAE,KAAA,aAAAC,aAAA;MACA;IACA;IACAC,MAAA,WAAAA,OAAAC,KAAA;MAAA,IAAAC,MAAA;MACA,KAAAR,SAAA;MACA,KAAAX,aAAA;MACA,KAAAC,UAAA;MACA,IAAAJ,IAAA,GAAAhB,SAAA,CAAAqC,KAAA,CAAAE,GAAA;MACA,KAAAvB,IAAA,CAAAb,GAAA,GAAAa,IAAA,CAAAd,EAAA;MACA,KAAA+B,SAAA;QACAK,MAAA,CAAAJ,KAAA,aAAAC,aAAA;MACA;IACA;IACAK,IAAA,WAAAA,KAAAH,KAAA;MAAA,IAAAI,MAAA;MACA,KAAAX,SAAA;MACA,KAAAX,aAAA;MACA,KAAAC,UAAA;MACA,KAAAJ,IAAA,GAAAhB,SAAA,CAAAqC,KAAA,CAAAE,GAAA;MACA,KAAAN,SAAA;QACAQ,MAAA,CAAAP,KAAA,aAAAC,aAAA;MACA;IACA;IACAO,GAAA,WAAAA,IAAAL,KAAA;MAAA,IAAAM,MAAA;MACA,KAAAC,QAAA;QACAC,iBAAA;QACAC,gBAAA;QACAC,IAAA;MACA,GAAArB,IAAA;QACAsB,UAAA;UACAL,MAAA,CAAAjC,IAAA,CAAAuC,MAAA,CAAAZ,KAAA,CAAAa,MAAA;UACAP,MAAA,CAAAQ,QAAA;YACAC,OAAA;YACAL,IAAA;UACA;QACA;MACA;IACA;IACAM,MAAA,WAAAA,OAAA;MAAA,IAAAC,MAAA;MACA,SAAAjC,OAAA;QACA;MACA;MACA,KAAAA,OAAA;MACA2B,UAAA;QACAM,MAAA,CAAAH,QAAA;UACAC,OAAA;UACAL,IAAA;QACA;QACAO,MAAA,CAAAnC,aAAA;QACAmC,MAAA,CAAAjC,OAAA;MACA;IACA;EACA;AACA","ignoreList":[]}]}