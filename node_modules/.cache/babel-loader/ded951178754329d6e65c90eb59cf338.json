{"remainingRequest":"D:\\p\\vue-admin\\node_modules\\babel-loader\\lib\\index.js!D:\\p\\vue-admin\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\p\\vue-admin\\src\\store\\modules\\permission.js","dependencies":[{"path":"D:\\p\\vue-admin\\src\\store\\modules\\permission.js","mtime":1714716372570},{"path":"D:\\p\\vue-admin\\babel.config.js","mtime":1714716372320},{"path":"D:\\p\\vue-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1714717337779},{"path":"D:\\p\\vue-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1714717350786},{"path":"D:\\p\\vue-admin\\node_modules\\eslint-loader\\index.js","mtime":1714717341918}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovcC92dWUtYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgeyBjb25zdGFudFJvdXRlcyB9IGZyb20gJ0Avcm91dGVyJzsKaW1wb3J0IHsgZ2V0cm91dGVzIH0gZnJvbSAnQC9hcGkvcGVybWlzc2lvbic7CmltcG9ydCBMYXlvdXQgZnJvbSAnQC9sYXlvdXQnOwoKLyoqDQogKiDlvqrnjq/nlJ/miJDlvILmraXot6/nlLENCiAqIEBBdXRob3IgICBIYXJ2ZXlDaGVuZw0KICogQERhdGVUaW1lIDIwMTgtMTAtMDkNCiAqIEBwYXJhbSAgICB7W3R5cGVdfSAgICByb3V0ZXMgW2Rlc2NyaXB0aW9uXQ0KICogQHJldHVybiAgIHtbdHlwZV19ICAgICAgICAgICBbZGVzY3JpcHRpb25dDQogKi8KZnVuY3Rpb24gbG9vcENyZWF0ZVJvdXRlcihyb3V0ZXMpIHsKICB2YXIgcmVzID0gW107CiAgcm91dGVzLmZvckVhY2goZnVuY3Rpb24gKHJvdXRlKSB7CiAgICB2YXIgdG1wID0gX29iamVjdFNwcmVhZCh7fSwgcm91dGUpOwogICAgdmFyIHRwbCA9IE9iamVjdC5hc3NpZ24oe30sIHRtcCk7CiAgICBpZiAodHlwZW9mIHRtcFsnY29tcG9uZW50J10gIT09ICd1bmRlZmluZWQnICYmIHRtcFsnY29tcG9uZW50J10pIHsKICAgICAgaWYgKHRtcFsnY29tcG9uZW50J10gPT09ICdMYXlvdXQnKSB7CiAgICAgICAgdHBsWydjb21wb25lbnQnXSA9IExheW91dDsKICAgICAgfSBlbHNlIHsKICAgICAgICB0cGxbJ2NvbXBvbmVudCddID0gZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgIHJldHVybiByZXF1aXJlKFsiLi4vLi4vIi5jb25jYXQodG1wWydjb21wb25lbnQnXSwgIi52dWUiKV0sIHJlc29sdmUpOwogICAgICAgIH07CiAgICAgIH0KICAgIH0KICAgIGlmICh0bXBbJ2NoaWxkcmVuJ10pIHsKICAgICAgdHBsWydjaGlsZHJlbiddID0gbG9vcENyZWF0ZVJvdXRlcih0bXBbJ2NoaWxkcmVuJ10pOwogICAgfQogICAgcmVzLnB1c2godHBsKTsKICB9KTsKICByZXR1cm4gcmVzOwp9CnZhciBzdGF0ZSA9IHsKICByb3V0ZXM6IFtdLAogIHNlY29uZF9yb3V0ZXM6IFtdLAogIHRoaXJkX3JvdXRlczogW10KfTsKdmFyIG11dGF0aW9ucyA9IHsKICBTRVRfUk9VVEVTOiBmdW5jdGlvbiBTRVRfUk9VVEVTKHN0YXRlLCByb3V0ZXMpIHsKICAgIHN0YXRlLnJvdXRlcyA9IHJvdXRlczsKICB9LAogIFNFVF9TRUNPTkRfUk9VVEVTOiBmdW5jdGlvbiBTRVRfU0VDT05EX1JPVVRFUyhzdGF0ZSwgcm91dGVzKSB7CiAgICBzdGF0ZS5zZWNvbmRfcm91dGVzID0gcm91dGVzOwogIH0sCiAgU0VUX1RISVJEX1JPVVRFUzogZnVuY3Rpb24gU0VUX1RISVJEX1JPVVRFUyhzdGF0ZSwgcm91dGVzKSB7CiAgICBzdGF0ZS50aGlyZF9yb3V0ZXMgPSByb3V0ZXM7CiAgfQp9Owp2YXIgYWN0aW9ucyA9IHsKICBnZW5lcmF0ZVJvdXRlczogZnVuY3Rpb24gZ2VuZXJhdGVSb3V0ZXMoX3JlZikgewogICAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgZ2V0cm91dGVzKCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICB2YXIgZGF0YSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgdmFyIGFzeW5jUm91dGVyTWFwID0gZGF0YS5saXN0OwogICAgICAgIHZhciBhY2Nlc3NlZFJvdXRlcyA9IGxvb3BDcmVhdGVSb3V0ZXIoYXN5bmNSb3V0ZXJNYXApOwogICAgICAgIGFjY2Vzc2VkUm91dGVzLnB1c2goewogICAgICAgICAgcGF0aDogJyonLAogICAgICAgICAgcmVkaXJlY3Q6ICcvNDA0JywKICAgICAgICAgIGhpZGRlbjogdHJ1ZQogICAgICAgIH0pOwogICAgICAgIGNvbW1pdCgnU0VUX1JPVVRFUycsIGNvbnN0YW50Um91dGVzLmNvbmNhdChhY2Nlc3NlZFJvdXRlcykpOwogICAgICAgIHJlc29sdmUoYWNjZXNzZWRSb3V0ZXMpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICByZWplY3QoZXJyb3IpOwogICAgICB9KTsKICAgIH0pOwogIH0sCiAgY2hhbmdlU2Vjb25kUm91dGVzOiBmdW5jdGlvbiBjaGFuZ2VTZWNvbmRSb3V0ZXMoX3JlZjIsIGRhdGEpIHsKICAgIHZhciBjb21taXQgPSBfcmVmMi5jb21taXQsCiAgICAgIHN0YXRlID0gX3JlZjIuc3RhdGU7CiAgICBjb21taXQoJ1NFVF9TRUNPTkRfUk9VVEVTJywgW10pOwogICAgdmFyIHNlY29uZF9yb3V0ZXMgPSBzdGF0ZS5yb3V0ZXMuZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICByZXR1cm4gIWl0ZW0uaGlkZGVuICYmIChpdGVtLnBhdGggPT09IGRhdGEucGF0aCB8fCBkYXRhLnBhdGggPT09ICcnICYmIGl0ZW0ucGF0aCA9PT0gJy8nKTsKICAgIH0pOwogICAgaWYgKHR5cGVvZiBzZWNvbmRfcm91dGVzICE9PSAndW5kZWZpbmVkJyAmJiBzZWNvbmRfcm91dGVzLmNoaWxkcmVuKSB7CiAgICAgIHZhciByZXMgPSBzZWNvbmRfcm91dGVzLmNoaWxkcmVuLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiAhaXRlbS5oaWRkZW4gJiYgaXRlbS5wYXRoOwogICAgICB9KTsKICAgICAgaWYgKHJlcy5sZW5ndGggPiAxKSB7CiAgICAgICAgY29tbWl0KCdTRVRfU0VDT05EX1JPVVRFUycsIHJlcyk7CiAgICAgIH0KICAgIH0KICB9LAogIGNoYW5nZVRoaXJkUm91dGVzOiBmdW5jdGlvbiBjaGFuZ2VUaGlyZFJvdXRlcyhfcmVmMywgZGF0YSkgewogICAgdmFyIGNvbW1pdCA9IF9yZWYzLmNvbW1pdCwKICAgICAgc3RhdGUgPSBfcmVmMy5zdGF0ZTsKICAgIGNvbW1pdCgnU0VUX1RISVJEX1JPVVRFUycsIFtdKTsKICAgIHZhciB0aGlyZF9yb3V0ZXMgPSBzdGF0ZS5zZWNvbmRfcm91dGVzLmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgcmV0dXJuICFpdGVtLmhpZGRlbiAmJiAoaXRlbS5wYXRoID09PSBkYXRhLnBhdGggfHwgZGF0YS5wYXRoID09PSAnJyAmJiBpdGVtLnBhdGggPT09ICcvJyk7CiAgICB9KTsKICAgIGlmICh0eXBlb2YgdGhpcmRfcm91dGVzICE9PSAndW5kZWZpbmVkJyAmJiB0aGlyZF9yb3V0ZXMuY2hpbGRyZW4pIHsKICAgICAgdmFyIHJlcyA9IHRoaXJkX3JvdXRlcy5jaGlsZHJlbi5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gIWl0ZW0uaGlkZGVuICYmIGl0ZW0ucGF0aDsKICAgICAgfSk7CiAgICAgIGlmIChyZXMubGVuZ3RoID4gMSkgewogICAgICAgIGNvbW1pdCgnU0VUX1RISVJEX1JPVVRFUycsIHJlcyk7CiAgICAgIH0KICAgIH0KICB9Cn07CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lc3BhY2VkOiB0cnVlLAogIHN0YXRlOiBzdGF0ZSwKICBtdXRhdGlvbnM6IG11dGF0aW9ucywKICBhY3Rpb25zOiBhY3Rpb25zCn07"},{"version":3,"names":["constantRoutes","getroutes","Layout","loopCreateRouter","routes","res","forEach","route","tmp","_objectSpread","tpl","Object","assign","resolve","require","concat","push","state","second_routes","third_routes","mutations","SET_ROUTES","SET_SECOND_ROUTES","SET_THIRD_ROUTES","actions","generateRoutes","_ref","commit","Promise","reject","then","response","data","asyncRouterMap","list","accessedRoutes","path","redirect","hidden","catch","error","changeSecondRoutes","_ref2","find","item","children","filter","length","changeThirdRoutes","_ref3","namespaced"],"sources":["D:/p/vue-admin/src/store/modules/permission.js"],"sourcesContent":["import { constantRoutes } from '@/router'\r\nimport { getroutes } from '@/api/permission'\r\nimport Layout from '@/layout'\r\n\r\n/**\r\n * 循环生成异步路由\r\n * @Author   HarveyCheng\r\n * @DateTime 2018-10-09\r\n * @param    {[type]}    routes [description]\r\n * @return   {[type]}           [description]\r\n */\r\nfunction loopCreateRouter(routes) {\r\n  const res = []\r\n  routes.forEach(route => {\r\n    const tmp = { ...route }\r\n    const tpl = Object.assign({}, tmp)\r\n    if (typeof tmp['component'] !== 'undefined' && tmp['component']) {\r\n      if (tmp['component'] === 'Layout') {\r\n        tpl['component'] = Layout\r\n      } else {\r\n        tpl['component'] = resolve => require([`../../${tmp['component']}.vue`], resolve)\r\n      }\r\n    }\r\n    if (tmp['children']) {\r\n      tpl['children'] = loopCreateRouter(tmp['children'])\r\n    }\r\n    res.push(tpl)\r\n  })\r\n  return res\r\n}\r\n\r\nconst state = {\r\n  routes: [],\r\n  second_routes: [],\r\n  third_routes: []\r\n}\r\n\r\nconst mutations = {\r\n  SET_ROUTES: (state, routes) => {\r\n    state.routes = routes\r\n  },\r\n  SET_SECOND_ROUTES: (state, routes) => {\r\n    state.second_routes = routes\r\n  },\r\n  SET_THIRD_ROUTES: (state, routes) => {\r\n    state.third_routes = routes\r\n  }\r\n}\r\n\r\nconst actions = {\r\n  generateRoutes({ commit }) {\r\n    return new Promise((resolve, reject) => {\r\n      getroutes().then(response => {\r\n        const { data } = response\r\n        const asyncRouterMap = data.list\r\n        const accessedRoutes = loopCreateRouter(asyncRouterMap)\r\n        accessedRoutes.push({ path: '*', redirect: '/404', hidden: true })\r\n        commit('SET_ROUTES', constantRoutes.concat(accessedRoutes))\r\n        resolve(accessedRoutes)\r\n      }).catch(error => {\r\n        reject(error)\r\n      })\r\n    })\r\n  },\r\n  changeSecondRoutes({ commit, state }, data) {\r\n    commit('SET_SECOND_ROUTES', [])\r\n    const second_routes = state.routes.find(item => {\r\n      return !item.hidden && (item.path === data.path || (data.path === '' && item.path === '/'))\r\n    })\r\n    if (typeof second_routes !== 'undefined' && second_routes.children) {\r\n      const res = second_routes.children.filter(item => {\r\n        return !item.hidden && item.path\r\n      })\r\n      if (res.length > 1) {\r\n        commit('SET_SECOND_ROUTES', res)\r\n      }\r\n    }\r\n  },\r\n  changeThirdRoutes({ commit, state }, data) {\r\n    commit('SET_THIRD_ROUTES', [])\r\n    const third_routes = state.second_routes.find(item => {\r\n      return !item.hidden && (item.path === data.path || (data.path === '' && item.path === '/'))\r\n    })\r\n    if (typeof third_routes !== 'undefined' && third_routes.children) {\r\n      const res = third_routes.children.filter(item => {\r\n        return !item.hidden && item.path\r\n      })\r\n      if (res.length > 1) {\r\n        commit('SET_THIRD_ROUTES', res)\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default {\r\n  namespaced: true,\r\n  state,\r\n  mutations,\r\n  actions\r\n}\r\n"],"mappings":"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","ignoreList":[]}]}