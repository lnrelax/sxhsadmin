{"remainingRequest":"D:\\p\\vue-admin前后端分离管理后台模板\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\p\\vue-admin前后端分离管理后台模板\\src\\views\\article\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\p\\vue-admin前后端分离管理后台模板\\src\\views\\article\\index.vue","mtime":1714716372601},{"path":"D:\\p\\vue-admin前后端分离管理后台模板\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1714717337779},{"path":"D:\\p\\vue-admin前后端分离管理后台模板\\node_modules\\babel-loader\\lib\\index.js","mtime":1714717350786},{"path":"D:\\p\\vue-admin前后端分离管理后台模板\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1714717337779},{"path":"D:\\p\\vue-admin前后端分离管理后台模板\\node_modules\\vue-loader\\lib\\index.js","mtime":1714717353807}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgUGFnaW5hdGlvbiBmcm9tICdAL2NvbXBvbmVudHMvUGFnaW5hdGlvbicNCmltcG9ydCBUaW55bWNlIGZyb20gJ0AvY29tcG9uZW50cy9UaW55bWNlJw0KaW1wb3J0IHsgZ2V0TGlzdCB9IGZyb20gJ0AvYXBpL2FydGljbGUnDQppbXBvcnQgeyBkZWVwQ2xvbmUgfSBmcm9tICdAL3V0aWxzJw0KDQpjb25zdCBfdGVtcCA9IHsNCiAgaWQ6ICcnLA0KICBpY29uOiAnJywNCiAgdGl0bGU6ICcnLA0KICBjYXRlZ29yeTogW10sDQogIGNvbnRlbnQ6ICcnLA0KICByZWFkOiAnJywNCiAgY29tbWVudDogJycsDQogIGNyZWF0ZWRfYXQ6ICcnLA0KICBhdXRob3I6ICcnLA0KICBzdGF0dXM6IDENCn0NCg0KZXhwb3J0IGRlZmF1bHQgew0KICBjb21wb25lbnRzOiB7DQogICAgUGFnaW5hdGlvbiwNCiAgICBUaW55bWNlDQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHRvdGFsOiAwLA0KICAgICAgbGlzdDogW10sDQogICAgICBtZW51czogW10sDQogICAgICBsaXN0TG9hZGluZzogdHJ1ZSwNCiAgICAgIGxpc3RRdWVyeTogew0KICAgICAgICBwYWdlOiAxLA0KICAgICAgICBsaW1pdDogMjAsDQogICAgICAgIGNyZWF0ZWRfYXQ6IHVuZGVmaW5lZCwNCiAgICAgICAgY2F0ZWdvcnk6IHVuZGVmaW5lZCwNCiAgICAgICAgc3RhdHVzOiB1bmRlZmluZWQsDQogICAgICAgIGtleXdvcmQ6IHVuZGVmaW5lZA0KICAgICAgfSwNCiAgICAgIHVwbG9hZFVybDogJycsDQogICAgICB0ZW1wOiBPYmplY3QuYXNzaWduKHt9LCBfdGVtcCksDQogICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZSwNCiAgICAgIGRpYWxvZ1R5cGU6ICdjcmVhdGUnLA0KICAgICAgbG9hZGluZzogZmFsc2UNCiAgICB9DQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5mZXRjaERhdGEoKQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgaGFuZGxlQXZhdGFyU3VjY2VzcyhyZXMsIGZpbGUpIHsNCiAgICAgIHRoaXMudGVtcC5zaXRlX2xvZ28gPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUucmF3KQ0KICAgIH0sDQogICAgYmVmb3JlQXZhdGFyVXBsb2FkKGZpbGUpIHsNCiAgICAgIGlmICghdGhpcy51cGxvYWRVcmwpIHsNCiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign6K+36K6+572u5q2j56Gu55qE5Zu+54mH5LiK5Lyg5Zyw5Z2AIScpDQogICAgICAgIHJldHVybiBmYWxzZQ0KICAgICAgfQ0KICAgICAgY29uc3QgaXNKUEcgPSBmaWxlLnR5cGUgPT09ICdpbWFnZS8qJw0KICAgICAgY29uc3QgaXNMdDJNID0gZmlsZS5zaXplIC8gMTAyNCAvIDEwMjQgPCAyDQogICAgICBpZiAoIWlzSlBHKSB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+WPquiDveS4iuS8oOWbvueJh+agvOW8jyEnKQ0KICAgICAgfQ0KICAgICAgaWYgKCFpc0x0Mk0pIHsNCiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5LiK5Lyg5Zu+54mH5aSn5bCP5LiN6IO96LaF6L+HIDJNQiEnKQ0KICAgICAgfQ0KICAgICAgcmV0dXJuIGlzSlBHICYmIGlzTHQyTQ0KICAgIH0sDQogICAgc2VhcmNoKCkgew0KICAgICAgdGhpcy5mZXRjaERhdGEoKQ0KICAgIH0sDQogICAgcmVmcmVzaCgpIHsNCiAgICAgIHRoaXMubGlzdFF1ZXJ5ID0gew0KICAgICAgICBwYWdlOiAxLA0KICAgICAgICBsaW1pdDogMjAsDQogICAgICAgIGNyZWF0ZWRfYXQ6IHVuZGVmaW5lZCwNCiAgICAgICAgY2F0ZWdvcnk6IHVuZGVmaW5lZCwNCiAgICAgICAgc3RhdHVzOiB1bmRlZmluZWQsDQogICAgICAgIGtleXdvcmQ6IHVuZGVmaW5lZA0KICAgICAgfQ0KICAgICAgdGhpcy5mZXRjaERhdGEoKQ0KICAgIH0sDQogICAgZmV0Y2hEYXRhKCkgew0KICAgICAgdGhpcy5saXN0TG9hZGluZyA9IHRydWUNCiAgICAgIGdldExpc3QodGhpcy5saXN0UXVlcnkpLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICB0aGlzLmxpc3QgPSByZXNwb25zZS5kYXRhLml0ZW1zDQogICAgICAgIHRoaXMudG90YWwgPSByZXNwb25zZS5kYXRhLnRvdGFsDQogICAgICAgIHRoaXMubGlzdExvYWRpbmcgPSBmYWxzZQ0KICAgICAgfSkNCiAgICB9LA0KICAgIHJlc2V0VGVtcCgpIHsNCiAgICAgIHRoaXMudGVtcCA9IE9iamVjdC5hc3NpZ24oe30sIF90ZW1wKQ0KICAgIH0sDQogICAgYWRkKCkgew0KICAgICAgdGhpcy5yZXNldFRlbXAoKQ0KICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZQ0KICAgICAgdGhpcy5kaWFsb2dUeXBlID0gJ2NyZWF0ZScNCiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgICAgdGhpcy4kcmVmc1snZGF0YUZvcm0nXS5jbGVhclZhbGlkYXRlKCkNCiAgICAgIH0pDQogICAgfSwNCiAgICBlZGl0KHNjb3BlKSB7DQogICAgICB0aGlzLnJlc2V0VGVtcCgpDQogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlDQogICAgICB0aGlzLmRpYWxvZ1R5cGUgPSAnbW9kaWZ5Jw0KICAgICAgdGhpcy50ZW1wID0gZGVlcENsb25lKHNjb3BlLnJvdykNCiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgICAgdGhpcy4kcmVmc1snZGF0YUZvcm0nXS5jbGVhclZhbGlkYXRlKCkNCiAgICAgIH0pDQogICAgfSwNCiAgICBjaGFuZ2VTdGF0dXModmFsdWUsIHNjb3BlKSB7DQogICAgICBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgdGhpcy5saXN0W3Njb3BlLiRpbmRleF0uc3RhdHVzID0gdmFsdWUNCiAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgbWVzc2FnZTogJ+abtOaWsOaIkOWKnycsDQogICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnDQogICAgICAgIH0pDQogICAgICB9LCAzMDApDQogICAgfSwNCiAgICBkZWwoc2NvcGUpIHsNCiAgICAgIHRoaXMuJGNvbmZpcm0oJ+ehruiupOWIoOmZpOivpeadoeaVsOaNruWQl++8nycsICfmj5DnpLonLCB7DQogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywNCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsDQogICAgICAgIHR5cGU6ICd3YXJuaW5nJw0KICAgICAgfSkudGhlbigoKSA9PiB7DQogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICAgIHRoaXMubGlzdC5zcGxpY2Uoc2NvcGUuJGluZGV4LCAxKQ0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgbWVzc2FnZTogJ+WIoOmZpOaIkOWKnycsDQogICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycNCiAgICAgICAgICB9KQ0KICAgICAgICB9LCAzMDApDQogICAgICB9KQ0KICAgIH0sDQogICAgc3VibWl0KCkgew0KICAgICAgaWYgKHRoaXMubG9hZGluZykgew0KICAgICAgICByZXR1cm4NCiAgICAgIH0NCiAgICAgIHRoaXMubG9hZGluZyA9IHRydWUNCiAgICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICBtZXNzYWdlOiAn5o+Q5Lqk5oiQ5YqfJywNCiAgICAgICAgICB0eXBlOiAnc3VjY2VzcycNCiAgICAgICAgfSkNCiAgICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gZmFsc2UNCiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2UNCiAgICAgIH0sIDMwMCkNCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4QA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/article","sourcesContent":["<template>\r\n  <div class=\"app-container\">\r\n    <div class=\"filter-container\">\r\n      <el-date-picker\r\n        v-model=\"listQuery.created_at\"\r\n        size=\"small\"\r\n        type=\"datetimerange\"\r\n        range-separator=\"-\"\r\n        start-placeholder=\"开始日期\"\r\n        end-placeholder=\"结束日期\"\r\n        value-format=\"yyyy-MM-dd HH:mm:ss\"\r\n        class=\"filter-item\"\r\n        :editable=\"false\"\r\n      />\r\n      <el-select\r\n        v-model=\"listQuery.category\"\r\n        size=\"small\"\r\n        placeholder=\"选择分类\"\r\n        clearable\r\n        class=\"filter-item\"\r\n      >\r\n        <el-option label=\"新闻\" :value=\"'新闻'\" />\r\n        <el-option label=\"公告\" :value=\"'公告'\" />\r\n        <el-option label=\"动态\" :value=\"'动态'\" />\r\n      </el-select>\r\n      <el-select\r\n        v-model=\"listQuery.status\"\r\n        size=\"small\"\r\n        placeholder=\"选择状态\"\r\n        clearable\r\n        class=\"filter-item\"\r\n      >\r\n        <el-option label=\"正常\" :value=\"1\" />\r\n        <el-option label=\"禁用\" :value=\"0\" />\r\n      </el-select>\r\n      <el-input\r\n        v-model=\"listQuery.keyword\"\r\n        size=\"small\"\r\n        placeholder=\"请输入关键词\"\r\n        clearable\r\n        class=\"filter-item w-200\"\r\n      />\r\n      <el-button-group class=\"filter-item\">\r\n        <el-button\r\n          size=\"small\"\r\n          type=\"primary\"\r\n          icon=\"el-icon-search\"\r\n          @click=\"search\"\r\n        >\r\n          搜索\r\n        </el-button>\r\n        <el-button\r\n          size=\"small\"\r\n          type=\"primary\"\r\n          icon=\"el-icon-refresh\"\r\n          @click=\"refresh\"\r\n        >\r\n          重置\r\n        </el-button>\r\n        <el-button\r\n          size=\"small\"\r\n          type=\"primary\"\r\n          icon=\"el-icon-plus\"\r\n          @click=\"add\"\r\n        >\r\n          新增\r\n        </el-button>\r\n      </el-button-group>\r\n    </div>\r\n\r\n    <el-table\r\n      v-loading=\"listLoading\"\r\n      :data=\"list\"\r\n      element-loading-text=\"Loading\"\r\n      border\r\n      fit\r\n      height=\"100%\"\r\n      class=\"table-container\"\r\n      highlight-current-row\r\n    >\r\n      <el-table-column\r\n        fixed\r\n        label=\"ID\"\r\n        width=\"80\"\r\n        align=\"center\"\r\n      >\r\n        <template slot-scope=\"scope\">\r\n          {{ scope.row.id }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n        align=\"center\"\r\n        width=\"150\"\r\n        label=\"文章封面\"\r\n      >\r\n        <template slot-scope=\"scope\">\r\n          <img :src=\"scope.row.icon\" height=\"50\">\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n        label=\"文章名称\"\r\n        align=\"center\"\r\n      >\r\n        <template slot-scope=\"scope\">\r\n          {{ scope.row.title }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n        label=\"文章分类\"\r\n        width=\"120\"\r\n        align=\"center\"\r\n      >\r\n        <template slot-scope=\"scope\">\r\n          {{ scope.row.category }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n        label=\"阅读量\"\r\n        width=\"120\"\r\n        align=\"center\"\r\n      >\r\n        <template slot-scope=\"scope\">\r\n          {{ scope.row.read }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n        label=\"评论量\"\r\n        width=\"120\"\r\n        align=\"center\"\r\n      >\r\n        <template slot-scope=\"scope\">\r\n          {{ scope.row.comment }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n        label=\"发布时间\"\r\n        width=\"160\"\r\n        align=\"center\"\r\n      >\r\n        <template slot-scope=\"scope\">\r\n          {{ scope.row.created_at }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n        label=\"作者\"\r\n        width=\"120\"\r\n        align=\"center\"\r\n      >\r\n        <template slot-scope=\"scope\">\r\n          {{ scope.row.author }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n        label=\"状态\"\r\n        width=\"80\"\r\n        align=\"center\"\r\n      >\r\n        <template slot-scope=\"scope\">\r\n          <el-switch\r\n            :value=\"scope.row.status\"\r\n            :active-value=\"1\"\r\n            :inactive-value=\"0\"\r\n            @change=\"changeStatus($event, scope)\"\r\n          />\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n        fixed=\"right\"\r\n        label=\"操作\"\r\n        width=\"200\"\r\n        align=\"center\"\r\n      >\r\n        <template slot-scope=\"scope\">\r\n          <el-button-group>\r\n            <el-button\r\n              type=\"primary\"\r\n              icon=\"el-icon-edit\"\r\n              size=\"mini\"\r\n              @click=\"edit(scope)\"\r\n            >\r\n              修改\r\n            </el-button>\r\n            <el-button\r\n              type=\"danger\"\r\n              icon=\"el-icon-delete\"\r\n              size=\"mini\"\r\n              @click=\"del(scope)\"\r\n            >\r\n              删除\r\n            </el-button>\r\n          </el-button-group>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <pagination\r\n      v-show=\"total > 0\"\r\n      :total=\"total\"\r\n      :page.sync=\"listQuery.page\"\r\n      :limit.sync=\"listQuery.limit\"\r\n      @pagination=\"fetchData\"\r\n    />\r\n\r\n    <el-dialog\r\n      :visible.sync=\"dialogVisible\"\r\n      destroy-on-close\r\n      :title=\"dialogType === 'modify' ? '修改' : '新增'\"\r\n    >\r\n      <el-form\r\n        ref=\"dataForm\"\r\n        :model=\"temp\"\r\n        label-width=\"120px\"\r\n        label-position=\"right\"\r\n      >\r\n        <el-form-item label=\"文章封面\">\r\n          <el-upload\r\n            class=\"avatar-uploader\"\r\n            :action=\"uploadUrl\"\r\n            :show-file-list=\"false\"\r\n            :on-success=\"handleAvatarSuccess\"\r\n            :before-upload=\"beforeAvatarUpload\"\r\n          >\r\n            <img v-if=\"temp.icon\" :src=\"temp.icon\" class=\"avatar\">\r\n            <i v-else class=\"el-icon-plus avatar-uploader-icon\" />\r\n          </el-upload>\r\n        </el-form-item>\r\n        <el-form-item label=\"文章名称\">\r\n          <el-input v-model=\"temp.title\" placeholder=\"请输入文章名称\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"文章分类\">\r\n          <el-radio-group v-model=\"temp.category\">\r\n            <el-radio label=\"新闻\" />\r\n            <el-radio label=\"公告\" />\r\n            <el-radio label=\"动态\" />\r\n          </el-radio-group>\r\n        </el-form-item>\r\n        <el-form-item label=\"文章正文\">\r\n          <tinymce v-model=\"temp.content\" :height=\"300\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"阅读量\">\r\n          <el-input-number v-model=\"temp.read\" :precision=\"0\" :min=\"0\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"评论量\">\r\n          <el-input-number v-model=\"temp.comment\" :precision=\"0\" :min=\"0\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"作者\">\r\n          <el-input v-model=\"temp.author\" placeholder=\"请输入作者\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"用户组状态\">\r\n          <el-radio-group v-model=\"temp.status\">\r\n            <el-radio :label=\"0\">禁用</el-radio>\r\n            <el-radio :label=\"1\">正常</el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div class=\"text-right\">\r\n        <el-button type=\"danger\" @click=\"dialogVisible = false\">\r\n          取消\r\n        </el-button>\r\n        <el-button type=\"primary\" @click=\"submit\">\r\n          确定\r\n        </el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Pagination from '@/components/Pagination'\r\nimport Tinymce from '@/components/Tinymce'\r\nimport { getList } from '@/api/article'\r\nimport { deepClone } from '@/utils'\r\n\r\nconst _temp = {\r\n  id: '',\r\n  icon: '',\r\n  title: '',\r\n  category: [],\r\n  content: '',\r\n  read: '',\r\n  comment: '',\r\n  created_at: '',\r\n  author: '',\r\n  status: 1\r\n}\r\n\r\nexport default {\r\n  components: {\r\n    Pagination,\r\n    Tinymce\r\n  },\r\n  data() {\r\n    return {\r\n      total: 0,\r\n      list: [],\r\n      menus: [],\r\n      listLoading: true,\r\n      listQuery: {\r\n        page: 1,\r\n        limit: 20,\r\n        created_at: undefined,\r\n        category: undefined,\r\n        status: undefined,\r\n        keyword: undefined\r\n      },\r\n      uploadUrl: '',\r\n      temp: Object.assign({}, _temp),\r\n      dialogVisible: false,\r\n      dialogType: 'create',\r\n      loading: false\r\n    }\r\n  },\r\n  created() {\r\n    this.fetchData()\r\n  },\r\n  methods: {\r\n    handleAvatarSuccess(res, file) {\r\n      this.temp.site_logo = URL.createObjectURL(file.raw)\r\n    },\r\n    beforeAvatarUpload(file) {\r\n      if (!this.uploadUrl) {\r\n        this.$message.error('请设置正确的图片上传地址!')\r\n        return false\r\n      }\r\n      const isJPG = file.type === 'image/*'\r\n      const isLt2M = file.size / 1024 / 1024 < 2\r\n      if (!isJPG) {\r\n        this.$message.error('只能上传图片格式!')\r\n      }\r\n      if (!isLt2M) {\r\n        this.$message.error('上传图片大小不能超过 2MB!')\r\n      }\r\n      return isJPG && isLt2M\r\n    },\r\n    search() {\r\n      this.fetchData()\r\n    },\r\n    refresh() {\r\n      this.listQuery = {\r\n        page: 1,\r\n        limit: 20,\r\n        created_at: undefined,\r\n        category: undefined,\r\n        status: undefined,\r\n        keyword: undefined\r\n      }\r\n      this.fetchData()\r\n    },\r\n    fetchData() {\r\n      this.listLoading = true\r\n      getList(this.listQuery).then(response => {\r\n        this.list = response.data.items\r\n        this.total = response.data.total\r\n        this.listLoading = false\r\n      })\r\n    },\r\n    resetTemp() {\r\n      this.temp = Object.assign({}, _temp)\r\n    },\r\n    add() {\r\n      this.resetTemp()\r\n      this.dialogVisible = true\r\n      this.dialogType = 'create'\r\n      this.$nextTick(() => {\r\n        this.$refs['dataForm'].clearValidate()\r\n      })\r\n    },\r\n    edit(scope) {\r\n      this.resetTemp()\r\n      this.dialogVisible = true\r\n      this.dialogType = 'modify'\r\n      this.temp = deepClone(scope.row)\r\n      this.$nextTick(() => {\r\n        this.$refs['dataForm'].clearValidate()\r\n      })\r\n    },\r\n    changeStatus(value, scope) {\r\n      setTimeout(() => {\r\n        this.list[scope.$index].status = value\r\n        this.$message({\r\n          message: '更新成功',\r\n          type: 'success'\r\n        })\r\n      }, 300)\r\n    },\r\n    del(scope) {\r\n      this.$confirm('确认删除该条数据吗？', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        setTimeout(() => {\r\n          this.list.splice(scope.$index, 1)\r\n          this.$message({\r\n            message: '删除成功',\r\n            type: 'success'\r\n          })\r\n        }, 300)\r\n      })\r\n    },\r\n    submit() {\r\n      if (this.loading) {\r\n        return\r\n      }\r\n      this.loading = true\r\n      setTimeout(() => {\r\n        this.$message({\r\n          message: '提交成功',\r\n          type: 'success'\r\n        })\r\n        this.dialogVisible = false\r\n        this.loading = false\r\n      }, 300)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.el-upload {\r\n  border: 1px dashed #d9d9d9 !important;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  position: relative;\r\n  overflow: hidden;\r\n\r\n  .el-icon-plus.avatar-uploader-icon {\r\n    border: 1px dashed #d9d9d9 !important;\r\n    border-radius: 6px;\r\n    font-size: 28px;\r\n    color: #8c939d;\r\n    width: 128px;\r\n    height: 128px;\r\n    line-height: 128px;\r\n    text-align: center;\r\n  }\r\n}\r\n.avatar-uploader {\r\n  height: 128px;\r\n\r\n  img {\r\n    width: 128px;\r\n    height: 128px;\r\n  }\r\n}\r\n</style>\r\n"]}]}