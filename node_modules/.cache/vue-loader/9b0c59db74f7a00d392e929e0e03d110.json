{"remainingRequest":"D:\\p\\vue-admin前后端分离管理后台模板\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\p\\vue-admin前后端分离管理后台模板\\src\\layout\\components\\Sidebar\\TopMenu.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\p\\vue-admin前后端分离管理后台模板\\src\\layout\\components\\Sidebar\\TopMenu.vue","mtime":1714716372539},{"path":"D:\\p\\vue-admin前后端分离管理后台模板\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1714717337779},{"path":"D:\\p\\vue-admin前后端分离管理后台模板\\node_modules\\babel-loader\\lib\\index.js","mtime":1714717350786},{"path":"D:\\p\\vue-admin前后端分离管理后台模板\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1714717337779},{"path":"D:\\p\\vue-admin前后端分离管理后台模板\\node_modules\\vue-loader\\lib\\index.js","mtime":1714717353807}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgc3RvcmUgZnJvbSAnQC9zdG9yZScNCmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4Jw0KaW1wb3J0IHBhdGggZnJvbSAncGF0aCcNCmltcG9ydCB7IGlzRXh0ZXJuYWwgfSBmcm9tICdAL3V0aWxzL3ZhbGlkYXRlJw0KaW1wb3J0IEl0ZW0gZnJvbSAnLi9JdGVtJw0KaW1wb3J0IHZhcmlhYmxlcyBmcm9tICdAL3N0eWxlcy92YXJpYWJsZXMuc2NzcycNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBjb21wb25lbnRzOiB7IEl0ZW0gfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4ge30NCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICAuLi5tYXBHZXR0ZXJzKFsNCiAgICAgICdwZXJtaXNzaW9uX3JvdXRlcycsDQogICAgICAnc2lkZWJhcicNCiAgICBdKSwNCiAgICBhY3RpdmVNZW51KCkgew0KICAgICAgY29uc3Qgcm91dGUgPSB0aGlzLiRyb3V0ZQ0KICAgICAgY29uc3QgeyBtZXRhLCBtYXRjaGVkIH0gPSByb3V0ZQ0KICAgICAgaWYgKG1ldGEuYWN0aXZlTWVudSkgew0KICAgICAgICByZXR1cm4gbWV0YS5hY3RpdmVNZW51DQogICAgICB9DQogICAgICBzdG9yZS5kaXNwYXRjaCgncGVybWlzc2lvbi9jaGFuZ2VTZWNvbmRSb3V0ZXMnLCBtYXRjaGVkWzBdKQ0KICAgICAgcmV0dXJuIG1hdGNoZWRbMF0ucGF0aCB8fCAnLycNCiAgICB9LA0KICAgIHNob3dMb2dvKCkgew0KICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnNldHRpbmdzLnNpZGViYXJMb2dvDQogICAgfSwNCiAgICB2YXJpYWJsZXMoKSB7DQogICAgICByZXR1cm4gdmFyaWFibGVzDQogICAgfSwNCiAgICBpc0NvbGxhcHNlKCkgew0KICAgICAgcmV0dXJuICF0aGlzLnNpZGViYXIub3BlbmVkDQogICAgfQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgZ2V0Rmlyc3RTaG93aW5nQ2hpbGQoY2hpbGRyZW4gPSBbXSwgcGFyZW50KSB7DQogICAgICBsZXQgc2hvd2luZyA9IHRydWUNCiAgICAgIGlmIChwYXJlbnQuaGlkZGVuIHx8ICh0eXBlb2YgcGFyZW50LnBhdGggPT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBwYXJlbnQucmVkaXJlY3QgPT09ICd1bmRlZmluZWQnKSkgew0KICAgICAgICBzaG93aW5nID0gZmFsc2UNCiAgICAgIH0NCiAgICAgIGlmICghY2hpbGRyZW4pIHsNCiAgICAgICAgcmV0dXJuIHNob3dpbmcNCiAgICAgIH0NCiAgICAgIGNvbnN0IHNob3dpbmdDaGlsZHJlbiA9IGNoaWxkcmVuLmZpbmQoaXRlbSA9PiB7DQogICAgICAgIHJldHVybiAhaXRlbS5oaWRkZW4gJiYgaXRlbS5wYXRoDQogICAgICB9KQ0KICAgICAgaWYgKHR5cGVvZiBzaG93aW5nQ2hpbGRyZW4gIT09ICd1bmRlZmluZWQnKSB7DQogICAgICAgIGlmIChzaG93aW5nQ2hpbGRyZW4ucGF0aCAmJiBwYXJlbnQuYWx3YXlzU2hvdyAmJiAhcGFyZW50LnJlZGlyZWN0KSB7DQogICAgICAgICAgcGFyZW50LnJlZGlyZWN0ID0gc2hvd2luZ0NoaWxkcmVuLnBhdGgNCiAgICAgICAgfQ0KICAgICAgICBpZiAodHlwZW9mIHBhcmVudC5tZXRhID09PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygc2hvd2luZ0NoaWxkcmVuLm1ldGEgIT09ICd1bmRlZmluZWQnKSB7DQogICAgICAgICAgcGFyZW50Lm1ldGEgPSBzaG93aW5nQ2hpbGRyZW4ubWV0YQ0KICAgICAgICB9DQogICAgICAgIHNob3dpbmcgPSB0cnVlDQogICAgICB9DQogICAgICByZXR1cm4gc2hvd2luZw0KICAgIH0sDQogICAgcmVzb2x2ZVBhdGgocm91dGUpIHsNCiAgICAgIGlmIChpc0V4dGVybmFsKHJvdXRlLnBhdGgpKSB7DQogICAgICAgIHJldHVybiByb3V0ZS5wYXRoDQogICAgICB9DQogICAgICBpZiAoaXNFeHRlcm5hbChyb3V0ZS5yZWRpcmVjdCkpIHsNCiAgICAgICAgcmV0dXJuIHJvdXRlLnJlZGlyZWN0DQogICAgICB9DQogICAgICByZXR1cm4gcm91dGUucGF0aA0KICAgIH0sDQogICAganVtcFRvKHJvdXRlKSB7DQogICAgICBpZiAoaXNFeHRlcm5hbChyb3V0ZS5wYXRoKSkgew0KICAgICAgICB3aW5kb3cub3Blbihyb3V0ZS5wYXRoLCAnX2JsYW5rJykNCiAgICAgICAgcmV0dXJuDQogICAgICB9DQogICAgICBpZiAoaXNFeHRlcm5hbChyb3V0ZS5yZWRpcmVjdCkpIHsNCiAgICAgICAgd2luZG93Lm9wZW4ocm91dGUucmVkaXJlY3QsICdfYmxhbmsnKQ0KICAgICAgICByZXR1cm4NCiAgICAgIH0NCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHBhdGgucmVzb2x2ZShyb3V0ZS5wYXRoLCByb3V0ZS5yZWRpcmVjdCB8fCAnJykpDQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["TopMenu.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAuBA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TopMenu.vue","sourceRoot":"src/layout/components/Sidebar","sourcesContent":["<template>\r\n  <div class=\"top-menu-bar\">\r\n    <el-scrollbar>\r\n      <el-menu\r\n        :default-active=\"activeMenu\"\r\n        :background-color=\"variables.menuBg\"\r\n        :text-color=\"variables.menuText\"\r\n        :active-text-color=\"variables.menuActiveText\"\r\n        mode=\"horizontal\"\r\n      >\r\n        <template v-for=\"route in permission_routes\">\r\n          <template v-if=\"!route.hidden && getFirstShowingChild(route.children,route)\">\r\n            <el-menu-item v-if=\"route.meta\" :key=\"route.path\" :index=\"resolvePath(route)\" @click=\"jumpTo(route)\">\r\n              <item :icon=\"route.meta&&route.meta.icon\" :title=\"route.meta.title\" />\r\n            </el-menu-item>\r\n          </template>\r\n        </template>\r\n      </el-menu>\r\n    </el-scrollbar>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport store from '@/store'\r\nimport { mapGetters } from 'vuex'\r\nimport path from 'path'\r\nimport { isExternal } from '@/utils/validate'\r\nimport Item from './Item'\r\nimport variables from '@/styles/variables.scss'\r\n\r\nexport default {\r\n  components: { Item },\r\n  data() {\r\n    return {}\r\n  },\r\n  computed: {\r\n    ...mapGetters([\r\n      'permission_routes',\r\n      'sidebar'\r\n    ]),\r\n    activeMenu() {\r\n      const route = this.$route\r\n      const { meta, matched } = route\r\n      if (meta.activeMenu) {\r\n        return meta.activeMenu\r\n      }\r\n      store.dispatch('permission/changeSecondRoutes', matched[0])\r\n      return matched[0].path || '/'\r\n    },\r\n    showLogo() {\r\n      return this.$store.state.settings.sidebarLogo\r\n    },\r\n    variables() {\r\n      return variables\r\n    },\r\n    isCollapse() {\r\n      return !this.sidebar.opened\r\n    }\r\n  },\r\n  methods: {\r\n    getFirstShowingChild(children = [], parent) {\r\n      let showing = true\r\n      if (parent.hidden || (typeof parent.path === 'undefined' && typeof parent.redirect === 'undefined')) {\r\n        showing = false\r\n      }\r\n      if (!children) {\r\n        return showing\r\n      }\r\n      const showingChildren = children.find(item => {\r\n        return !item.hidden && item.path\r\n      })\r\n      if (typeof showingChildren !== 'undefined') {\r\n        if (showingChildren.path && parent.alwaysShow && !parent.redirect) {\r\n          parent.redirect = showingChildren.path\r\n        }\r\n        if (typeof parent.meta === 'undefined' && typeof showingChildren.meta !== 'undefined') {\r\n          parent.meta = showingChildren.meta\r\n        }\r\n        showing = true\r\n      }\r\n      return showing\r\n    },\r\n    resolvePath(route) {\r\n      if (isExternal(route.path)) {\r\n        return route.path\r\n      }\r\n      if (isExternal(route.redirect)) {\r\n        return route.redirect\r\n      }\r\n      return route.path\r\n    },\r\n    jumpTo(route) {\r\n      if (isExternal(route.path)) {\r\n        window.open(route.path, '_blank')\r\n        return\r\n      }\r\n      if (isExternal(route.redirect)) {\r\n        window.open(route.redirect, '_blank')\r\n        return\r\n      }\r\n      this.$router.push(path.resolve(route.path, route.redirect || ''))\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.top-menu-bar {\r\n  .el-menu--horizontal.el-menu {\r\n    display: flex;\r\n  }\r\n  .el-menu--horizontal>.el-menu-item {\r\n    height: 50px !important;\r\n    line-height: 50px !important;\r\n  }\r\n  .el-menu--horizontal>.el-submenu .el-submenu__title {\r\n    height: 50px !important;\r\n    line-height: 50px !important;\r\n  }\r\n  .svg-icon {\r\n    margin-right: 5px;\r\n  }\r\n  .el-scrollbar__bar.is-horizontal {\r\n    display: none;\r\n  }\r\n  ::v-deep .el-scrollbar__thumb {\r\n    background-color: rgba(255, 255, 255, 0.5);\r\n    &:hover {\r\n      background-color: rgba(64,158,255,1);\r\n    }\r\n  }\r\n}\r\n.mobile {\r\n  .top-menu-bar {\r\n    ::v-deep .el-menu--horizontal>.el-menu-item {\r\n      padding: 0 10px;\r\n      display: inline-block;\r\n\r\n      .sub-el-icon {\r\n        display: none;\r\n      }\r\n\r\n      .svg-icon {\r\n        display: none;\r\n      }\r\n    }\r\n\r\n    ::v-deep .el-scrollbar__thumb {\r\n      display: none;\r\n      &:hover {\r\n        display: none;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]}]}