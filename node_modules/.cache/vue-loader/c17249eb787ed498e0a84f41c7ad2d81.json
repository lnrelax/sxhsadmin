{"remainingRequest":"D:\\p\\vue-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\p\\vue-admin\\src\\layout\\components\\Sidebar\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\p\\vue-admin\\src\\layout\\components\\Sidebar\\index.vue","mtime":1714716372539},{"path":"D:\\p\\vue-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1714717337779},{"path":"D:\\p\\vue-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1714717350786},{"path":"D:\\p\\vue-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1714717337779},{"path":"D:\\p\\vue-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1714717353807}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgc3RvcmUgZnJvbSAnQC9zdG9yZScNCmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4Jw0KaW1wb3J0IHBhdGggZnJvbSAncGF0aCcNCmltcG9ydCB7IGlzRXh0ZXJuYWwgfSBmcm9tICdAL3V0aWxzL3ZhbGlkYXRlJw0KaW1wb3J0IFNpZGViYXJJdGVtIGZyb20gJy4vU2lkZWJhckl0ZW0nDQppbXBvcnQgSXRlbSBmcm9tICcuL0l0ZW0nDQppbXBvcnQgdmFyaWFibGVzIGZyb20gJ0Avc3R5bGVzL3ZhcmlhYmxlcy5zY3NzJw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIGNvbXBvbmVudHM6IHsgU2lkZWJhckl0ZW0sIEl0ZW0gfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICAuLi5tYXBHZXR0ZXJzKFsNCiAgICAgICdwZXJtaXNzaW9uX3JvdXRlcycsDQogICAgICAnc2Vjb25kX3JvdXRlcycsDQogICAgICAndGhpcmRfcm91dGVzJywNCiAgICAgICdzaWRlYmFyJw0KICAgIF0pLA0KICAgIGNsYXNzT2JqKCkgew0KICAgICAgcmV0dXJuIHsNCiAgICAgICAgc3ViTWVudTogdGhpcy50aGlyZF9yb3V0ZXMubGVuZ3RoID4gMA0KICAgICAgfQ0KICAgIH0sDQogICAgYWN0aXZlTWVudSgpIHsNCiAgICAgIGNvbnN0IHJvdXRlID0gdGhpcy4kcm91dGUNCiAgICAgIGNvbnN0IHsgbWV0YSwgbWF0Y2hlZCB9ID0gcm91dGUNCiAgICAgIGlmIChtZXRhLmFjdGl2ZU1lbnUpIHsNCiAgICAgICAgcmV0dXJuIG1ldGEuYWN0aXZlTWVudQ0KICAgICAgfQ0KICAgICAgc3RvcmUuZGlzcGF0Y2goJ3Blcm1pc3Npb24vY2hhbmdlVGhpcmRSb3V0ZXMnLCBtYXRjaGVkWzFdIHx8IFtdKQ0KICAgICAgcmV0dXJuIG1hdGNoZWRbMV0ucGF0aCB8fCAnJw0KICAgIH0sDQogICAgYWN0aXZlU3ViTWVudSgpIHsNCiAgICAgIGNvbnN0IHJvdXRlID0gdGhpcy4kcm91dGUNCiAgICAgIGNvbnN0IHsgbWV0YSwgcGF0aCB9ID0gcm91dGUNCiAgICAgIC8vIGlmIHNldCBwYXRoLCB0aGUgc2lkZWJhciB3aWxsIGhpZ2hsaWdodCB0aGUgcGF0aCB5b3Ugc2V0DQogICAgICBpZiAobWV0YS5hY3RpdmVNZW51KSB7DQogICAgICAgIHJldHVybiBtZXRhLmFjdGl2ZU1lbnUNCiAgICAgIH0NCiAgICAgIHJldHVybiBwYXRoDQogICAgfSwNCiAgICBzaG93TG9nbygpIHsNCiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5zZXR0aW5ncy5zaWRlYmFyTG9nbw0KICAgIH0sDQogICAgdmFyaWFibGVzKCkgew0KICAgICAgcmV0dXJuIHZhcmlhYmxlcw0KICAgIH0sDQogICAgaXNDb2xsYXBzZSgpIHsNCiAgICAgIHJldHVybiAhdGhpcy5zaWRlYmFyLm9wZW5lZA0KICAgIH0sDQogICAgZGV2aWNlKCkgew0KICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmFwcC5kZXZpY2UNCiAgICB9DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBnZXRGaXJzdFNob3dpbmdDaGlsZChjaGlsZHJlbiA9IFtdLCBwYXJlbnQpIHsNCiAgICAgIGxldCBzaG93aW5nID0gdHJ1ZQ0KICAgICAgaWYgKHBhcmVudC5oaWRkZW4gfHwgKHR5cGVvZiBwYXJlbnQucGF0aCA9PT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHBhcmVudC5yZWRpcmVjdCA9PT0gJ3VuZGVmaW5lZCcpKSB7DQogICAgICAgIHNob3dpbmcgPSBmYWxzZQ0KICAgICAgfQ0KICAgICAgaWYgKCFjaGlsZHJlbikgew0KICAgICAgICByZXR1cm4gc2hvd2luZw0KICAgICAgfQ0KICAgICAgY29uc3Qgc2hvd2luZ0NoaWxkcmVuID0gY2hpbGRyZW4uZmluZChpdGVtID0+IHsNCiAgICAgICAgcmV0dXJuICFpdGVtLmhpZGRlbiAmJiBpdGVtLnBhdGgNCiAgICAgIH0pDQogICAgICBpZiAodHlwZW9mIHNob3dpbmdDaGlsZHJlbiAhPT0gJ3VuZGVmaW5lZCcpIHsNCiAgICAgICAgaWYgKHNob3dpbmdDaGlsZHJlbi5wYXRoICYmIHBhcmVudC5hbHdheXNTaG93ICYmICFwYXJlbnQucmVkaXJlY3QpIHsNCiAgICAgICAgICBwYXJlbnQucmVkaXJlY3QgPSBzaG93aW5nQ2hpbGRyZW4ucGF0aA0KICAgICAgICB9DQogICAgICAgIGlmICh0eXBlb2YgcGFyZW50Lm1ldGEgPT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBzaG93aW5nQ2hpbGRyZW4ubWV0YSAhPT0gJ3VuZGVmaW5lZCcpIHsNCiAgICAgICAgICBwYXJlbnQubWV0YSA9IHNob3dpbmdDaGlsZHJlbi5tZXRhDQogICAgICAgIH0NCiAgICAgICAgc2hvd2luZyA9IHRydWUNCiAgICAgIH0NCiAgICAgIHJldHVybiBzaG93aW5nDQogICAgfSwNCiAgICByZXNvbHZlUGF0aChyb3V0ZSkgew0KICAgICAgaWYgKGlzRXh0ZXJuYWwocm91dGUucGF0aCkpIHsNCiAgICAgICAgcmV0dXJuIHJvdXRlLnBhdGgNCiAgICAgIH0NCiAgICAgIGlmIChpc0V4dGVybmFsKHJvdXRlLnJlZGlyZWN0KSkgew0KICAgICAgICByZXR1cm4gcm91dGUucmVkaXJlY3QNCiAgICAgIH0NCiAgICAgIHJldHVybiByb3V0ZS5wYXRoDQogICAgfSwNCiAgICBqdW1wVG8ocm91dGUpIHsNCiAgICAgIGlmIChpc0V4dGVybmFsKHJvdXRlLnBhdGgpKSB7DQogICAgICAgIHdpbmRvdy5vcGVuKHJvdXRlLnBhdGgsICdfYmxhbmsnKQ0KICAgICAgICByZXR1cm4NCiAgICAgIH0NCiAgICAgIGlmIChpc0V4dGVybmFsKHJvdXRlLnJlZGlyZWN0KSkgew0KICAgICAgICB3aW5kb3cub3Blbihyb3V0ZS5yZWRpcmVjdCwgJ19ibGFuaycpDQogICAgICAgIHJldHVybg0KICAgICAgfQ0KICAgICAgaWYgKHJvdXRlLmNoaWxkcmVuICYmIHJvdXRlLmNoaWxkcmVuLmxlbmd0aCA+IDIgJiYgdGhpcy5kZXZpY2UgPT09ICdtb2JpbGUnKSB7DQogICAgICAgIHN0b3JlLmRpc3BhdGNoKCdwZXJtaXNzaW9uL2NoYW5nZVRoaXJkUm91dGVzJywgcm91dGUpDQogICAgICAgIHJldHVybg0KICAgICAgfQ0KICAgICAgdGhpcy4kcm91dGVyLnB1c2gocGF0aC5yZXNvbHZlKHJvdXRlLnBhdGgsIHJvdXRlLnJlZGlyZWN0IHx8ICcnKSkNCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwDA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/layout/components/Sidebar","sourcesContent":["<template>\r\n  <div v-if=\"second_routes.length > 0\">\r\n    <div class=\"sidebar-container\">\r\n      <el-scrollbar wrap-class=\"scrollbar-wrapper\">\r\n        <el-menu\r\n          :default-active=\"activeMenu\"\r\n          :background-color=\"variables.menuBg\"\r\n          :text-color=\"variables.menuText\"\r\n          :active-text-color=\"variables.menuActiveText\"\r\n          :collapse=\"isCollapse\"\r\n          :collapse-transition=\"false\"\r\n          mode=\"vertical\"\r\n        >\r\n          <template v-if=\"isCollapse\">\r\n            <el-menu\r\n              :default-active=\"activeMenu\"\r\n              :collapse=\"isCollapse\"\r\n              :background-color=\"variables.menuBg\"\r\n              :text-color=\"variables.menuText\"\r\n              :unique-opened=\"false\"\r\n              :active-text-color=\"variables.menuActiveText\"\r\n              :collapse-transition=\"false\"\r\n              mode=\"vertical\"\r\n            >\r\n              <sidebar-item v-for=\"route in second_routes\" :key=\"route.path\" :item=\"route\" :base-path=\"route.path\" />\r\n            </el-menu>\r\n          </template>\r\n          <template v-else>\r\n            <template v-for=\"route in second_routes\">\r\n              <template v-if=\"!route.hidden && getFirstShowingChild(route.children,route)\">\r\n                <el-menu-item v-if=\"route.meta\" :key=\"route.path\" :index=\"resolvePath(route)\" @click=\"jumpTo(route)\">\r\n                  <item :icon=\"route.meta&&route.meta.icon\" :title=\"route.meta.title\" />\r\n                </el-menu-item>\r\n              </template>\r\n            </template>\r\n          </template>\r\n        </el-menu>\r\n      </el-scrollbar>\r\n    </div>\r\n    <div v-if=\"third_routes.length > 0 && !isCollapse\" class=\"sub-sidebar-container\">\r\n      <el-scrollbar wrap-class=\"scrollbar-wrapper\">\r\n        <el-menu\r\n          :default-active=\"activeSubMenu\"\r\n          :collapse=\"isCollapse\"\r\n          :unique-opened=\"false\"\r\n          :collapse-transition=\"false\"\r\n          mode=\"vertical\"\r\n        >\r\n          <sidebar-item v-for=\"route in third_routes\" :key=\"route.path\" :item=\"route\" :base-path=\"route.path\" :is-nest=\"true\" />\r\n        </el-menu>\r\n      </el-scrollbar>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport store from '@/store'\r\nimport { mapGetters } from 'vuex'\r\nimport path from 'path'\r\nimport { isExternal } from '@/utils/validate'\r\nimport SidebarItem from './SidebarItem'\r\nimport Item from './Item'\r\nimport variables from '@/styles/variables.scss'\r\n\r\nexport default {\r\n  components: { SidebarItem, Item },\r\n  computed: {\r\n    ...mapGetters([\r\n      'permission_routes',\r\n      'second_routes',\r\n      'third_routes',\r\n      'sidebar'\r\n    ]),\r\n    classObj() {\r\n      return {\r\n        subMenu: this.third_routes.length > 0\r\n      }\r\n    },\r\n    activeMenu() {\r\n      const route = this.$route\r\n      const { meta, matched } = route\r\n      if (meta.activeMenu) {\r\n        return meta.activeMenu\r\n      }\r\n      store.dispatch('permission/changeThirdRoutes', matched[1] || [])\r\n      return matched[1].path || ''\r\n    },\r\n    activeSubMenu() {\r\n      const route = this.$route\r\n      const { meta, path } = route\r\n      // if set path, the sidebar will highlight the path you set\r\n      if (meta.activeMenu) {\r\n        return meta.activeMenu\r\n      }\r\n      return path\r\n    },\r\n    showLogo() {\r\n      return this.$store.state.settings.sidebarLogo\r\n    },\r\n    variables() {\r\n      return variables\r\n    },\r\n    isCollapse() {\r\n      return !this.sidebar.opened\r\n    },\r\n    device() {\r\n      return this.$store.state.app.device\r\n    }\r\n  },\r\n  methods: {\r\n    getFirstShowingChild(children = [], parent) {\r\n      let showing = true\r\n      if (parent.hidden || (typeof parent.path === 'undefined' && typeof parent.redirect === 'undefined')) {\r\n        showing = false\r\n      }\r\n      if (!children) {\r\n        return showing\r\n      }\r\n      const showingChildren = children.find(item => {\r\n        return !item.hidden && item.path\r\n      })\r\n      if (typeof showingChildren !== 'undefined') {\r\n        if (showingChildren.path && parent.alwaysShow && !parent.redirect) {\r\n          parent.redirect = showingChildren.path\r\n        }\r\n        if (typeof parent.meta === 'undefined' && typeof showingChildren.meta !== 'undefined') {\r\n          parent.meta = showingChildren.meta\r\n        }\r\n        showing = true\r\n      }\r\n      return showing\r\n    },\r\n    resolvePath(route) {\r\n      if (isExternal(route.path)) {\r\n        return route.path\r\n      }\r\n      if (isExternal(route.redirect)) {\r\n        return route.redirect\r\n      }\r\n      return route.path\r\n    },\r\n    jumpTo(route) {\r\n      if (isExternal(route.path)) {\r\n        window.open(route.path, '_blank')\r\n        return\r\n      }\r\n      if (isExternal(route.redirect)) {\r\n        window.open(route.redirect, '_blank')\r\n        return\r\n      }\r\n      if (route.children && route.children.length > 2 && this.device === 'mobile') {\r\n        store.dispatch('permission/changeThirdRoutes', route)\r\n        return\r\n      }\r\n      this.$router.push(path.resolve(route.path, route.redirect || ''))\r\n    }\r\n  }\r\n}\r\n</script>\r\n"]}]}